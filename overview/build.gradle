/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */
plugins {
    id "com.google.osdetector" version "1.6.2"
}

project.ext {
    foo = "bar"
    baz = "quix"
}

task printExtraProperties(group: "Custom", description: "Prints extra properties") {
    doLast {
        project.ext.properties.each { k, v ->
            println "${k}: ${v}"
        }
    }
}

task clean(type: Delete, group: "Custom", description: "Cleans all target files") {
    delete "build/target"
}

task copyResources(type: Copy, group: "Custom", description: "Copies resources to the target directory") {
    from "etc/profile/default/main/resources"
    into "build/target/gradle-examples-overview/classes"
}

task runHello(type: Exec, group: "Custom", description: "Runs the script bin/hello") {
    workingDir "./bin"

    if (osdetector.os == "windows") {
        commandLine "cmd", "/c", "hello.bat"
    } else {
        commandLine "./hello.sh"
    }
}
